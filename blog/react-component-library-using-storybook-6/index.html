<!doctype html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Creating a React component library using Storybook 6</title><meta name="description" content="Learn how to build a React component library using Storybook 6 and TypeScript, compile it with Rollup and publish it."><link rel="canonical" href="undefined/blog/react-component-library-using-storybook-6/"><link rel="apple-touch-icon" sizes="152x152" href="undefined/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="undefined/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="undefined/favicons/favicon-16x16.png"><link rel="manifest" href="undefined/favicons/site.webmanifest"><link rel="mask-icon" href="undefined/favicons/safari-pinned-tab.svg" color="#5bbad5"><meta name="msapplication-TileColor" content="#da532c"><meta name="theme-color" content="#ffffff"><meta name="twitter:title" content="Creating a React component library using Storybook 6"><meta property="twitter:description" content="Learn how to build a React component library using Storybook 6 and TypeScript, compile it with Rollup and publish it."><meta name="twitter:image" content="undefined/img/react-component-library-using-storybook-6.png"><meta name="twitter:card" content="summary_large_image"><meta property="og:title" content="Creating a React component library using Storybook 6"><meta property="og:description" content="Learn how to build a React component library using Storybook 6 and TypeScript, compile it with Rollup and publish it."><meta property="og:image" content="undefined/img/react-component-library-using-storybook-6.png"><meta property="og:url" content="undefined/blog/react-component-library-using-storybook-6/"><meta property="og:type" content="article"><link rel="stylesheet" type="text/css" href="undefined/css/style.css"><link rel="stylesheet" type="text/css" href="undefined/css/prism-tomorrow.css"><script defer="defer" src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/js/brands.min.js"></script><script defer="defer" src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/js/solid.min.js"></script><script defer="defer" src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/js/fontawesome.min.js"></script><script>function trackTagClick(t){trackEvent("tag_clicked","tags",t)}function trackEvent(t,c,a){console.log("Event",{name:t,category:c,label:a})}</script><script async src="https://unpkg.com/smoothscroll-polyfill/dist/smoothscroll.min.js"></script><script async src="https://unpkg.com/smoothscroll-anchor-polyfill"></script><script src="https://cdn.jsdelivr.net/gh/alpinejs/alpine@v2.8.2/dist/alpine.min.js" defer="defer"></script></head><body><div class="w-full"><nav class="flex items-center justify-center lg:justify-between flex-wrap p-6 lg:px-0 container mx-auto" x-data="navbarData()" @keydown.escape="isOpen = false"><div class="flex items-center"><a href="/" aria-label="logo"><img src="/img/prateek-bitmoji.png" alt="Logo" height="80" width="63.2" class="h-20"></a></div><button x-on:click="handleToggle" type="button" class="ml-auto block lg:hidden px-2 text-primary-500 hover:text-primary-500 focus:outline-none focus:text-primary-500" :class="{ 'transition transform-180': isOpen }" aria-label="Menu"><svg class="h-6 w-6 fill-current" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path x-show="isOpen" fill-rule="evenodd" clip-rule="evenodd" d="M18.278 16.864a1 1 0 0 1-1.414 1.414l-4.829-4.828-4.828 4.828a1 1 0 0 1-1.414-1.414l4.828-4.829-4.828-4.828a1 1 0 0 1 1.414-1.414l4.829 4.828 4.828-4.828a1 1 0 1 1 1.414 1.414l-4.828 4.829 4.828 4.828z"/><path x-show="!isOpen" fill-rule="evenodd" d="M4 5h16a1 1 0 0 1 0 2H4a1 1 0 1 1 0-2zm0 6h16a1 1 0 0 1 0 2H4a1 1 0 0 1 0-2zm0 6h16a1 1 0 0 1 0 2H4a1 1 0 0 1 0-2z"/></svg></button><div class="w-full flex-grow lg:flex lg:items-center lg:w-auto text-center transition-all duration-700 ease-in-out opacity-0 lg:opacity-100" :class="{ 'max-h-80 opacity-100': isOpen, 'max-h-0 opacity-0': !isOpen }" x-show.transition="true"><ul class="pt-6 lg:pt-0 list-reset lg:flex justify-end flex-1 items-center"><li class="nav__item mr-1"><a @click="isOpen = false" class="text-ml inline-block text-gray-500 no-underline hover:text-indigo-500 py-2 px-4" href="/">About</a></li><li class="nav__item mr-1"><a @click="isOpen = false" class="text-ml inline-block text-gray-500 no-underline hover:text-indigo-500 py-2 px-4" href="/blog">Blog</a></li><li class="nav__item mr-1"><a @click="isOpen = false" target="_blank" rel="noreferrer noopener" class="text-ml inline-block text-gray-500 no-underline hover:text-indigo-500 py-2 px-4" href="https://twitter.com/psuranas"><i class="fab fa-twitter"></i></a></li><li class="nav__item mr-1"><a @click="isOpen = false" target="_blank" rel="noreferrer noopener" class="text-ml inline-block text-gray-500 no-underline hover:text-indigo-500 py-2 px-4" href="https://github.com/prateek3255"><i class="fab fa-github"></i></a></li><li class="nav__item mr-1"><a @click="isOpen = false" target="_blank" rel="noreferrer noopener" class="text-ml inline-block text-gray-500 no-underline hover:text-indigo-500 py-2 px-4" href="https://stackoverflow.com/users/8252081/prateek-surana"><i class="fab fa-stack-overflow"></i></a></li><li class="nav__item mr-1"><a @click="isOpen = false" target="_blank" rel="noreferrer noopener" class="text-ml inline-block text-gray-500 no-underline hover:text-indigo-500 py-2 px-4" href="/blog/feed.xml"><i class="fas fa-rss"></i></a></li></ul></div></nav></div><script>function navbarData(){return{isOpen:!1,handleToggle(){this.isOpen=!this.isOpen,void 0!==window.annotationGroup&&(window.annotationGroup.hide(),setTimeout(()=>{window.annotationGroup.show()},800))}}}</script><div x-data="newsletter()" x-init="startTimer()"><div class="container max-w-3xl mt-6 px-6"><div class="pb-5 mb-5 border-b border-gray-100"><h1 class="font-bold text-5xl">Creating a React component library using Storybook 6</h1><p class="text-center text-base leading-6 font-medium text-gray-500">Last updated on <time>11 Apr 2021</time> by Prateek Surana &nbsp; ‚Ä¢ &nbsp;<span class="read-time"> - min read</span></p></div><article class="prose lg:prose-xl my-4 relative"><p>If you have multiple projects that are using the same design system (inputs, buttons, other reusable components, etc.), then you probably have a good enough use case to create a shared component library that can be published and consumed directly by all your projects.</p><p>Another benefit is that you can develop UI components easily in isolation and render their different states directly, without needing to mess with the business logic in your dev stack, with the help of <a href="https://storybook.js.org/">Storybook</a>.</p><picture><source type="image/webp" srcset="/img/storybook-working-480.webp 480w, /img/storybook-working-768.webp 768w" sizes="(max-width: 600px) 480px, (max-width: 1024px) 768px, 1200px"><source type="image/jpeg" srcset="/img/storybook-working-480.jpeg 480w, /img/storybook-working-768.jpeg 768w" sizes="(max-width: 600px) 480px, (max-width: 1024px) 768px, 1200px"><img src="../img/storybook-working-768.jpeg" width="768" height="204" alt="Storybook working" class="article-img" loading="lazy" decoding="async"></picture><p>In this tutorial, I would be covering the steps for creating and publishing a React component library (<a href="https://storybook.js.org/">Storybook supports countless other frontend frameworks</a>), with the following steps -</p><ol><li><a href="#setting-up-the-project">Setting up the project</a></li><li><a href="#installing-storybook">Installing Storybook</a></li><li><a href="#adding-stories-and-setting-up-the-file-structure">Adding stories and setting up the file structure</a></li><li><a href="#compiling-the-library-using-rollup">Compiling the Library using Rollup</a></li><li><a href="#publishing-and-consuming-the-library">Publishing and consuming the library</a></li></ol><h2 class="relative"><a id="setting-up-the-project" href="#setting-up-the-project" class="header-anchor"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="absolute top-2 -left-7 opacity-0 icon" height="20" width="20" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg> Setting up the project</a></h2><p>Since we are building a component library that would be published to a package manager like NPM, we would be better off if we setup React from scratch instead of using something like create-react-app, which is better suited for web applications.</p><blockquote><p>If you have a component library using React already setup, then you can directly move forward to the next step. We just need a basic React setup before we can install Storybook.</p></blockquote><p>For that, create a new folder with whatever name you want for your component library. I would be calling mine my-awesome-component-library.</p><p>Then run <a href="https://classic.yarnpkg.com/en/docs/cli/init/"><code>yarn init</code></a> and <a href="https://github.com/git-guides/git-init"><code>git init</code></a>, respectively, in that folder providing appropriate values for the fields asked. This would initialize an empty NPM project with git. Also, <a href="https://docs.github.com/en/free-pro-team@latest/github/using-git/ignoring-files">set up a gitignore file</a>.</p><p>We are building a React component library, so we would need to React to build our components. Also, we are going to use <a href="https://prateeksurana.me/blog/react-library-with-typescript/#why-typescript">TypeScript to build our library</a>. Let's add that too.</p><pre class="language-jsx"><code class="language-jsx">yarn add <span class="token operator">--</span>dev react react<span class="token operator">-</span>dom @types<span class="token operator">/</span>react typescript</code></pre><p>Since <code>react</code> requires that we need to have a single copy of <code>react-dom</code>, we will be adding it as a <a href="https://flaviocopes.com/npm-peer-dependencies/">peerDependency</a> so that our package always uses the installing client's version. Add the following snippet to your package.json.</p><pre class="language-json"><code class="language-json">...<br><span class="token property">"peerDependencies"</span><span class="token operator">:</span> <span class="token punctuation">{</span><br>    <span class="token property">"react"</span><span class="token operator">:</span> <span class="token string">"^16.8.0"</span><span class="token punctuation">,</span><br>    <span class="token property">"react-dom"</span><span class="token operator">:</span> <span class="token string">"^16.8.0"</span><br> <span class="token punctuation">}</span><span class="token punctuation">,</span><br>...</code></pre><p>As one last step for setting up the project, let's also add a <code>tsconfig</code> for compiling our TypeScript. Create a file called <code>tsconfig.json</code> in the root and add the following to it.</p><pre class="language-json"><code class="language-json"><span class="token punctuation">{</span><br>    <span class="token property">"compilerOptions"</span><span class="token operator">:</span> <span class="token punctuation">{</span><br>      <span class="token property">"target"</span><span class="token operator">:</span> <span class="token string">"es5"</span><span class="token punctuation">,</span><br>      <span class="token property">"outDir"</span><span class="token operator">:</span> <span class="token string">"lib"</span><span class="token punctuation">,</span><br>      <span class="token property">"lib"</span><span class="token operator">:</span> <span class="token punctuation">[</span><br>        <span class="token string">"dom"</span><span class="token punctuation">,</span><br>        <span class="token string">"dom.iterable"</span><span class="token punctuation">,</span><br>        <span class="token string">"esnext"</span><br>      <span class="token punctuation">]</span><span class="token punctuation">,</span><br>      <span class="token property">"declaration"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span><br>      <span class="token property">"declarationDir"</span><span class="token operator">:</span> <span class="token string">"lib"</span><span class="token punctuation">,</span><br>      <span class="token property">"allowJs"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span><br>      <span class="token property">"skipLibCheck"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span><br>      <span class="token property">"esModuleInterop"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span><br>      <span class="token property">"allowSyntheticDefaultImports"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span><br>      <span class="token property">"strict"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span><br>      <span class="token property">"forceConsistentCasingInFileNames"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span><br>      <span class="token property">"module"</span><span class="token operator">:</span> <span class="token string">"esnext"</span><span class="token punctuation">,</span><br>      <span class="token property">"moduleResolution"</span><span class="token operator">:</span> <span class="token string">"node"</span><span class="token punctuation">,</span><br>      <span class="token property">"resolveJsonModule"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span><br>      <span class="token property">"isolatedModules"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span><br>      <span class="token property">"noEmit"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span><br>      <span class="token property">"jsx"</span><span class="token operator">:</span> <span class="token string">"react"</span><br>    <span class="token punctuation">}</span><span class="token punctuation">,</span><br>    <span class="token property">"include"</span><span class="token operator">:</span> <span class="token punctuation">[</span><br>      <span class="token string">"src"</span><br>    <span class="token punctuation">]</span><span class="token punctuation">,</span><br>    <span class="token property">"exclude"</span><span class="token operator">:</span> <span class="token punctuation">[</span><br>        <span class="token string">"node_modules"</span><span class="token punctuation">,</span><br>        <span class="token string">"lib"</span><br>    <span class="token punctuation">]</span><br>  <span class="token punctuation">}</span></code></pre><p>These options help TypeScript to <a href="https://prateeksurana.me/blog/react-library-with-typescript/#setting-up-typescript-config">ignore and enforce certain rules while compiling our code</a>. You can <a href="https://www.typescriptlang.org/tsconfig">check out all the flags available in the docs</a>.</p><p><a href="https://github.com/prateek3255/my-awesome-component-library/tree/0f3932074fea5e97b2aaab6d31a794b4ef937514">GitHub: Code till this step</a></p><h2 class="relative"><a id="installing-storybook" href="#installing-storybook" class="header-anchor"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="absolute top-2 -left-7 opacity-0 icon" height="20" width="20" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg> Installing Storybook</a></h2><p>Now that we have the React boilerplate ready we can now install Storybook, run the following command in the root folder to add Storybook to your project</p><pre class="language-json"><code class="language-json">npx sb init</code></pre><p>This command will install all the core <code>devDependencies</code>, add scripts, setup some configuration files, and create example stories for you to get <a href="https://storybook.js.org/docs/react/get-started/install">you up and running with Storybook</a>. At the time of writing this article, I am using Storybook version 6.1.9</p><p>You can now run <code>yarn storybook</code> and that should boot up Storybook for you with the examples they created for you.</p><p>Once you are done playing with the example, you can go ahead and safely delete the stories folder.</p><p>Now open the <code>.storybook/main.js</code> file. This file controls the behavior of your Storybook server by specifying the <a href="https://storybook.js.org/docs/react/configure/overview#configure-your-storybook-project">configuration for your stories</a>.</p><p>Update the stories key in the file to this -</p><pre class="language-json"><code class="language-json">...<br><span class="token property">"stories"</span><span class="token operator">:</span> <span class="token punctuation">[</span><br>    <span class="token string">"../src/**/*.stories.tsx"</span><br> <span class="token punctuation">]</span><span class="token punctuation">,</span><br>...</code></pre><p>This config would run TypeScript stories defined in the <code>src</code> folder, which we would be creating in the next step.</p><p><a href="https://github.com/prateek3255/my-awesome-component-library/tree/f758d09f8df37268387f0b47987a91ff820a7ed7">GitHub: Code till this step</a></p><h2 class="relative"><a id="adding-stories-and-setting-up-the-file-structure" href="#adding-stories-and-setting-up-the-file-structure" class="header-anchor"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="absolute top-2 -left-7 opacity-0 icon" height="20" width="20" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg> Adding stories and setting up the file structure</a></h2><p>Now that we have the Storybook setup, we can start creating our components and writing stories for them.</p><p>But first of all what are stories anyways?</p><p>Glad you asked, <a href="https://storybook.js.org/docs/react/get-started/whats-a-story">from the docs</a> -</p><p>&quot;A story captures the rendered state of a UI component. Developers write multiple stories per component that describe all the ‚Äúinteresting‚Äù states a component can support.&quot;</p><p>In short, Stories let you render the different states of your UI component and lets you play with the different states with something called <a href="https://storybook.js.org/docs/react/essentials/controls">Storybook Controls</a>, which we will get to in a minute. These are development only files and hence won't be included in our final library bundle.</p><p>Let's create a demo component to check out how stories work and how you can make the most out of it.</p><p>Our file structure would look something like this -</p><pre class="language-bash"><code class="language-bash">.storybook/<br>  main.js<br>	preview.js<br>.gitignore<br>package.json<br>rollup.config.js<br>tsconfig.json<br>src/<br>	components/<br>	  MyAwesomeComponent/<br>	    MyAwesomeComponent.tsx<br>	    MyAwesomeComponent.css<br>	    MyAwesomeComponent.stories.tsx<br>		  index.ts<br>  index.ts</code></pre><p>We will be using the same button component that Storybook gave us with the demo earlier for demonstrating.</p><p>Create a folder <code>src/components/Button</code> and paste the <a href="https://github.com/prateek3255/my-awesome-component-library/blob/af7ef6715e006db4c5a2f6fecb6212a0fc928d0a/src/components/Button/Button.tsx">Button.tsx,</a> <a href="https://github.com/prateek3255/my-awesome-component-library/blob/af7ef6715e006db4c5a2f6fecb6212a0fc928d0a/src/components/Button/button.css">button.css</a>, and <a href="https://github.com/prateek3255/my-awesome-component-library/blob/af7ef6715e006db4c5a2f6fecb6212a0fc928d0a/src/components/Button/index.ts">index.ts</a> files in it.</p><p>Lets add some stories ‚ú®</p><p>Create <code>src/components/Button/Button.stories.tsx</code></p><p>Now add the following default export to it -</p><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">"react"</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token punctuation">{</span> Meta <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"@storybook/react/types-6-0"</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> Button<span class="token punctuation">,</span> <span class="token punctuation">{</span> ButtonProps <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"./Button"</span><span class="token punctuation">;</span><br><br><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span><br>  title<span class="token operator">:</span> <span class="token string">"Components/Button"</span><span class="token punctuation">,</span><br>  component<span class="token operator">:</span> Button<span class="token punctuation">,</span><br><span class="token punctuation">}</span> <span class="token keyword">as</span> Meta<span class="token punctuation">;</span></code></pre><p>The <a href="https://storybook.js.org/docs/react/writing-stories/introduction#default-export">default export in a story</a> defines the meta information that will be used by Storybook and its addons.</p><p>To define a Story you <a href="https://storybook.js.org/docs/react/writing-stories/introduction#defining-stories">need to create named exports</a> in the file, so for example we can create a story for the primary button type like this.</p><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">PrimaryButton</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Button</span></span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Hello world<span class="token punctuation">"</span></span> <span class="token attr-name">primary</span> <span class="token punctuation">/></span></span><span class="token punctuation">;</span></code></pre><p>To simplify writing multiple stories, Storybook provides an option to create stories by <a href="https://storybook.js.org/docs/react/writing-stories/introduction#using-args">defining a master template and reusing that template for each story.</a> So in our case, the stories for Primary and Secondary type buttons can be created like this -</p><pre class="language-tsx"><code class="language-tsx"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">"react"</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token punctuation">{</span> Meta <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"@storybook/react/types-6-0"</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token punctuation">{</span> Story <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"@storybook/react"</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token punctuation">{</span> Button<span class="token punctuation">,</span> ButtonProps <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"./Button"</span><span class="token punctuation">;</span><br><br><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span><br>  title<span class="token operator">:</span> <span class="token string">"Components/Button"</span><span class="token punctuation">,</span><br>  component<span class="token operator">:</span> Button<span class="token punctuation">,</span><br><span class="token punctuation">}</span> <span class="token keyword">as</span> Meta<span class="token punctuation">;</span><br><br><span class="token comment">// Create a master template for mapping args to render the Button component</span><br><span class="token keyword">const</span> Template<span class="token operator">:</span> Story<span class="token operator">&lt;</span>ButtonProps<span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">args</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Button</span></span> <span class="token spread"><span class="token punctuation">{</span><span class="token operator">...</span>args<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token punctuation">;</span><br><br><span class="token comment">// Reuse that template for creating different stories</span><br><span class="token keyword">export</span> <span class="token keyword">const</span> Primary <span class="token operator">=</span> <span class="token function">Template</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>Primary<span class="token punctuation">.</span>args <span class="token operator">=</span> <span class="token punctuation">{</span> label<span class="token operator">:</span> <span class="token string">"Primary üòÉ"</span><span class="token punctuation">,</span> size<span class="token operator">:</span> <span class="token string">"large"</span> <span class="token punctuation">}</span><span class="token punctuation">;</span><br><br><span class="token keyword">export</span> <span class="token keyword">const</span> Secondary <span class="token operator">=</span> <span class="token function">Template</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>Secondary<span class="token punctuation">.</span>args <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token operator">...</span>Primary<span class="token punctuation">.</span>args<span class="token punctuation">,</span> primary<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> label<span class="token operator">:</span> <span class="token string">"Secondary üòá"</span> <span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>If you haven't already, you can restart the Storybook server by rerunning <code>yarn storybook</code>, and you should see the following.</p><picture><source type="image/webp" srcset="/img/initial-story-setup-480.webp 480w, /img/initial-story-setup-768.webp 768w, /img/initial-story-setup-1200.webp 1200w" sizes="(max-width: 600px) 480px, (max-width: 1024px) 768px, 1200px"><source type="image/jpeg" srcset="/img/initial-story-setup-480.jpeg 480w, /img/initial-story-setup-768.jpeg 768w, /img/initial-story-setup-1200.jpeg 1200w" sizes="(max-width: 600px) 480px, (max-width: 1024px) 768px, 1200px"><img src="../img/initial-story-setup-768.jpeg" width="768" height="436" alt="Initial Story Setup" class="article-img" loading="lazy" decoding="async"></picture><p>Notice that Storybook automatically generated the controls, according to the component props, for us. This is thanks to <a href="https://storybook.js.org/docs/react/api/argtypes#automatic-argtype-inference">react-docgen-typescript, which is used by Storybook to infer the argTypes for a component</a>. One more reason to use TypeScript.</p><p>Apart from using auto-generated controls, you can also define <a href="https://storybook.js.org/docs/react/essentials/controls#configuration">custom controls</a> for some or all props using the <code>argTypes</code> key. For example, let's define a custom color picker for the <code>backgroundColor</code> prop, replace the default export in the stories file with this -</p><pre class="language-tsx"><code class="language-tsx"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span><br>  title<span class="token operator">:</span> <span class="token string">"Components/Button"</span><span class="token punctuation">,</span><br>  component<span class="token operator">:</span> Button<span class="token punctuation">,</span><br>  argTypes<span class="token operator">:</span> <span class="token punctuation">{</span><br>    backgroundColor<span class="token operator">:</span> <span class="token punctuation">{</span> control<span class="token operator">:</span> <span class="token string">'color'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span><br>  <span class="token punctuation">}</span><span class="token punctuation">,</span><br><span class="token punctuation">}</span> <span class="token keyword">as</span> Meta<span class="token punctuation">;</span></code></pre><p>The current story preview also looks a bit weird with the button in one corner of the preview. As one last step, <a href="https://storybook.js.org/docs/react/configure/story-layout">add the <code>layout: 'centered'</code> key</a> to the <code>.storybook/preview.js</code> file to center the preview. This file lets you control how your <a href="https://storybook.js.org/docs/react/configure/overview#configure-story-rendering">story is rendered in the Storybook.</a></p><p>If you followed the above steps, your final story preview would look something like this -</p><picture><source type="image/webp" srcset="/img/final-story-setup-480.webp 480w, /img/final-story-setup-768.webp 768w, /img/final-story-setup-1200.webp 1200w" sizes="(max-width: 600px) 480px, (max-width: 1024px) 768px, 1200px"><source type="image/jpeg" srcset="/img/final-story-setup-480.jpeg 480w, /img/final-story-setup-768.jpeg 768w, /img/final-story-setup-1200.jpeg 1200w" sizes="(max-width: 600px) 480px, (max-width: 1024px) 768px, 1200px"><img src="../img/final-story-setup-768.jpeg" width="768" height="437" alt="Final story setup" class="article-img" loading="lazy" decoding="async"></picture><p><a href="https://github.com/prateek3255/my-awesome-component-library/tree/af7ef6715e006db4c5a2f6fecb6212a0fc928d0a">GitHub: Code till this step</a></p><h2 class="relative"><a id="compiling-the-library-using-rollup" href="#compiling-the-library-using-rollup" class="header-anchor"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="absolute top-2 -left-7 opacity-0 icon" height="20" width="20" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg> Compiling the Library using Rollup</a></h2><p>Now that you know how to build components with Storybook, it's time to move to the next step, which is compiling our library so that our end applications can consume it.</p><p>If you're not familiar with Rollup and wondering why we are using it to compile our library instead of something like webpack, that's because <a href="https://medium.com/webpack/webpack-and-rollup-the-same-but-different-a41ad427058c">Rollup is best suited for bundling libraries, whereas webpack is suited for apps</a>.</p><p>First, we would need to create an entry file that would export all the components for our component library. Create <code>src/index.ts</code>, and since our component library only has one component right now, it would look something like this -</p><pre class="language-tsx"><code class="language-tsx"><span class="token keyword">import</span> Button <span class="token keyword">from</span> <span class="token string">"./components/Button"</span><span class="token punctuation">;</span><br><br><span class="token keyword">export</span> <span class="token punctuation">{</span> Button <span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>Let's add rollup, run the following to install Rollup and its plugins that we'll be using to bundle the library -</p><pre class="language-bash"><code class="language-bash"><span class="token function">yarn</span> <span class="token function">add</span> --dev rollup rollup-plugin-typescript2 @rollup/plugin-commonjs @rollup/plugin-node-resolve rollup-plugin-peer-deps-external rollup-plugin-postcss postcss</code></pre><p>Now before we add the rollup config, there are a few types of JavaScript modules that you should be aware of -</p><ul><li><a href="https://nodejs.org/docs/latest/api/modules.html#modules_modules_commonjs_modules">CommonJS</a> - This module format is most commonly used with Node using the <code>require</code> function. Even though we are publishing a React module (which will be consumed by an application generally written in ESM format, then bundled and compiled by tools like webpack), we need to consider that it might also be used within a Server side rendering environment, which generally uses Node and hence might require a CJS counterpart of the library (ESM modules are supported in Node environment as of <a href="https://nodejs.org/dist./v10.22.0/docs/api/esm.html">v10 behind an experimental flag</a>).</li><li><a href="https://nodejs.org/api/esm.html#esm_modules_ecmascript_modules">ESM</a> - This is the modern module format that we normally use in our React applications in which modules are defined using a variety of import and export statements. The main benefit of shipping ES modules is that it <a href="https://bitsofco.de/what-is-tree-shaking/">makes your library tree-shakable</a>. This is supported by tools like Rollup and webpack 2+.</li><li><a href="https://riptutorial.com/javascript/example/16339/universal-module-definition">UMD</a> - This module format is not as popular these days. It is required when the user requires our module using a script tag.</li></ul><p>So we would want to support both ESM and CommonJS modules for our component library so that all kinds of support tools can use it in the end application that relies on either of the module types.</p><p>To do that, <code>package.json</code> allows adding the entry points for both ESM and CommonJS modules via the module and main key, respectively. So add the following to keys to your <code>package.json</code> -</p><pre class="language-json"><code class="language-json"><span class="token punctuation">{</span> <br>  ...<br>  <span class="token property">"main"</span><span class="token operator">:</span> <span class="token string">"lib/index.js"</span><span class="token punctuation">,</span><br>  <span class="token property">"module"</span><span class="token operator">:</span> <span class="token string">"lib/index.esm.js"</span><span class="token punctuation">,</span><br>  <span class="token property">"types"</span><span class="token operator">:</span> <span class="token string">"lib/index.d.ts"</span><span class="token punctuation">,</span><br>  ...<br><span class="token punctuation">}</span></code></pre><p>The types key would point to the static types generated for your library via Rollup, which would help with <a href="https://code.visualstudio.com/docs/languages/typescript#_intellisense">IntelliSense in code editors like VSCode.</a></p><p>Its time to add the Rollup config file now, create a file called <code>rollup.config.js</code> in the root folder and add the following to it -</p><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">import</span> peerDepsExternal <span class="token keyword">from</span> <span class="token string">"rollup-plugin-peer-deps-external"</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> resolve <span class="token keyword">from</span> <span class="token string">"@rollup/plugin-node-resolve"</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> commonjs <span class="token keyword">from</span> <span class="token string">"@rollup/plugin-commonjs"</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> typescript <span class="token keyword">from</span> <span class="token string">"rollup-plugin-typescript2"</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> postcss <span class="token keyword">from</span> <span class="token string">"rollup-plugin-postcss"</span><span class="token punctuation">;</span><br><br><span class="token keyword">const</span> packageJson <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"./package.json"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span><br>  input<span class="token operator">:</span> <span class="token string">"src/index.ts"</span><span class="token punctuation">,</span><br>  output<span class="token operator">:</span> <span class="token punctuation">[</span><br>    <span class="token punctuation">{</span><br>      file<span class="token operator">:</span> packageJson<span class="token punctuation">.</span>main<span class="token punctuation">,</span><br>      format<span class="token operator">:</span> <span class="token string">"cjs"</span><span class="token punctuation">,</span><br>      sourcemap<span class="token operator">:</span> <span class="token boolean">true</span><br>    <span class="token punctuation">}</span><span class="token punctuation">,</span><br>    <span class="token punctuation">{</span><br>      file<span class="token operator">:</span> packageJson<span class="token punctuation">.</span>module<span class="token punctuation">,</span><br>      format<span class="token operator">:</span> <span class="token string">"esm"</span><span class="token punctuation">,</span><br>      sourcemap<span class="token operator">:</span> <span class="token boolean">true</span><br>    <span class="token punctuation">}</span><br>  <span class="token punctuation">]</span><span class="token punctuation">,</span><br>  plugins<span class="token operator">:</span> <span class="token punctuation">[</span><br>    <span class="token function">peerDepsExternal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token function">commonjs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token function">typescript</span><span class="token punctuation">(</span><span class="token punctuation">{</span> useTsconfigDeclarationDir<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token function">postcss</span><span class="token punctuation">(</span><span class="token punctuation">{</span><br>        extensions<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'.css'</span><span class="token punctuation">]</span><br>    <span class="token punctuation">}</span><span class="token punctuation">)</span><br>  <span class="token punctuation">]</span><br><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>Let's break it down one by one to figure out what's happening here.</p><p>To start with, the <a href="https://rollupjs.org/guide/en/#input">input key</a> indicates the entry point for Rollup for our component library, which is the <code>index.js</code> file that we just created, which contains the exports for all our components.</p><p>The output key indicates what types of output files will be generated at which place. As mentioned previously, we would be building the ESM and CommonJS bundles, and we read the output files for both bundles from the <code>package.json</code>.</p><p>Lastly there is the plugin array with which we are using the following plugins -</p><ul><li><a href="https://www.npmjs.com/package/rollup-plugin-peer-deps-external">rollup-plugin-peer-deps-external</a> - This plugin avoids us from bundling the <code>peerDependencies</code> (react and react-dom in our case) in the final bundle as these will be provided by our consumer application.</li><li><a href="https://www.npmjs.com/package/@rollup/plugin-node-resolve">@rollup/plugin-node-resolve</a> - This plugin includes the third-party external dependencies into our final bundle (we don't have any dependencies for this tutorial, but you'll definitely need them as your library grows).</li><li><a href="https://www.npmjs.com/package/@rollup/plugin-commonjs">@rollup/plugin-commonjs</a> - This plugin enables the conversion to CJS so that they can be included in the final bundle</li><li><a href="https://www.npmjs.com/package/rollup-plugin-typescript2">rollup-plugin-typescript2</a> - This plugin compiles the TypeScript code to JavaScript for our final bundle and generates the type declarations for the <code>types</code> key in <code>package.json</code>. The <code>useTsconfigDeclarationDir</code> option outputs the types to the directory specified in the <code>tsconfig.json</code> file.</li><li><a href="https://www.npmjs.com/package/rollup-plugin-postcss">rollup-plugin-postcss</a> - This plugin helps include the CSS that we created as separate files in our final bundle. It does this by generating minified CSS from the *.css files and includes them via the <code>&lt;head&gt;</code> tag wherever used in our components.</li></ul><p>Now as one last step let's add the script to build our component library, add the following script to your <code>package.json</code> file -</p><pre class="language-json"><code class="language-json"><span class="token punctuation">{</span><br> ...<br> <span class="token property">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">{</span><br>    ...<br>    <span class="token property">"build"</span><span class="token operator">:</span> <span class="token string">"rollup -c"</span><br> <span class="token punctuation">}</span><span class="token punctuation">,</span><br> ...<br><span class="token punctuation">}</span></code></pre><p>Go ahead and run <code>yarn build</code> from your terminal and you should be able to see the <code>lib</code> folder created. I would recommend exploring this folder further to understand how Rollup and its plugins generate the appropriate bundles for the CommonJS and ESM modules with the type definitions.</p><p>Don't forget to add the <code>lib</code> folder to <code>.gitignore</code>.</p><p><a href="https://github.com/prateek3255/my-awesome-component-library/tree/8c5aab293f894c2e8e6416b4f522024f6d7c3585">GitHub: Code till this step</a></p><h2 class="relative"><a id="publishing-and-consuming-the-library" href="#publishing-and-consuming-the-library" class="header-anchor"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="absolute top-2 -left-7 opacity-0 icon" height="20" width="20" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg> Publishing and consuming the library</a></h2><p>Publishing the library to NPM couldn't be any easier. Since we have already defined all the required fields in <code>package.json</code>, you just need to run <code>npm publish</code>.</p><p>Once published, you should be able to import your component from your library in the consumer application just like this -</p><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">import</span> <span class="token punctuation">{</span> Button <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"my-awesome-component-library"</span><span class="token punctuation">;</span></code></pre><p>You can also refer to my <a href="https://prateeksurana.me/blog/react-library-with-typescript/#getting-ready-for-publishing">another article for the detailed steps and best practices for publishing a library to NPM.</a></p><p>You might also want to keep your library private. If you have multiple projects in a <a href="https://www.toptal.com/front-end/guide-to-monorepos">monorepo</a> and are using something like <a href="https://classic.yarnpkg.com/en/docs/workspaces/">yarn workspaces</a>, then you don't actually need to publish the package anywhere.</p><p>Place the library folder in your monorepo and add it to your workspaces array to the package.json in the root folder -</p><pre class="language-json"><code class="language-json"><span class="token comment">// package.json</span><br><span class="token punctuation">{</span><br>  ... <br>	<span class="token property">"workspaces"</span><span class="token operator">:</span> <span class="token punctuation">[</span><br>			...<br>			<span class="token string">"my-awesome-component-library"</span><br>	<span class="token punctuation">]</span><span class="token punctuation">,</span><br>	...	<br><span class="token punctuation">}</span></code></pre><p>Then you can directly access it from any other package in your workspace by just adding it as an dependency:</p><pre class="language-json"><code class="language-json"><span class="token comment">// my-awesome-frontend/package.json</span><br><span class="token punctuation">{</span><br>  ... <br>	<span class="token property">"dependencies"</span><span class="token operator">:</span> <span class="token punctuation">{</span><br>			...<br>			<span class="token property">"my-awesome-component-library"</span><span class="token operator">:</span> <span class="token number">1.0</span>.<span class="token number">0</span><span class="token punctuation">,</span><br>			...<br>	<span class="token punctuation">}</span><span class="token punctuation">,</span><br>	...	<br><span class="token punctuation">}</span></code></pre><h2>Next Steps</h2><ul><li>Integrate <a href="https://www.netlify.com/">Netlify</a> or some other service to automatically deploy the Storybook whenever a PR is merged into master and to generate pull previews whenever a new PR is opened.</li><li>Setup test cases <a href="https://www.pluralsight.com/guides/how-to-test-react-components-in-typescript">using React Testing library and Jest</a>.</li><li>Add <a href="https://github.com/rollup/rollup-starter-code-splitting">code-splitting</a> to let the consumer application import only the required components instead of the whole library.</li></ul><a class="fixed bottom-12 bg-white text-accent-blue flex items-center justify-center rounded cursor-pointer z-10 invisible lg:visible top-indicator-container" aria-label="Scroll to top" href="#"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" class="top-indicator" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M256 217.9L383 345c9.4 9.4 24.6 9.4 33.9 0 9.4-9.4 9.3-24.6 0-34L273 167c-9.1-9.1-23.7-9.3-33.1-.7L95 310.9c-4.7 4.7-7 10.9-7 17s2.3 12.3 7 17c9.4 9.4 24.6 9.4 33.9 0l127.1-127z"></path></svg></a></article><hr class="my-4"><div class="text-md mb-3 flex justify-between flex-col md:flex-row"><div><a href="/blog/tags/typescript" onclick='trackTagClick("typescript")' class="text-indigo-700 mr-1">#TypeScript </a><a href="/blog/tags/react" onclick='trackTagClick("react")' class="text-indigo-700 mr-1">#React </a><a href="/blog/tags/tutorial" onclick='trackTagClick("tutorial")' class="text-indigo-700 mr-1">#Tutorial </a><a href="/blog/tags/storybook" onclick='trackTagClick("storybook")' class="text-indigo-700 mr-1">#Storybook</a></div><div class="mt-2 md:mt-0"><span class="font-bold mr-2">Enjoyed this blog, share it on: </span><a href="https://twitter.com/intent/tweet?url=undefined/blog/react-component-library-using-storybook-6/&via=psuranas&text=Creating a React component library using Storybook 6" target="_blank" rel="noreferrer noopener" class="text-indigo-700 mr-1">Twitter </a><a href="https://www.linkedin.com/sharing/share-offsite/?url=undefined/blog/react-component-library-using-storybook-6/" target="_blank" rel="noreferrer noopener" class="text-indigo-700">LinkedIn</a></div></div></div><div class="container max-w-3xl border-gray-100 border-2 p-8 shadow rounded flex flex-col items-center md:flex-row mb-6 mt-8 bg-blue-100"><div class="text-center"><h4 class="text-lg font-bold mb-2">Want to get better at React, JavaScript, and TypeScript?</h4><p class="text-base">I regularly publish posts like this one, containing best practices, tips, and tutorials on React, JavaScript, and TypeScript. Subscribe to my newsletter to get them straight to your inbox. No spam ever. Unsubscribe at any time. You can also <a target="_blank" rel="noreferrer noopener" class="underline" href="/blog/feed.xml">subscribe via RSS</a>.</p><form x-on:submit="handleSubscribe" name="subscribe_card"><input name="email" x-model="emailField" required type="email" placeholder="john@doe.com" class="input-primary mt-6"> <button x-bind:disabled="isSubscribeLoading" class="btn-primary" type="submit">Count me in</button></form></div></div><div class="container max-w-3xl border-gray-100 border-2 p-8 shadow rounded flex flex-col items-center md:flex-row mb-6 mt-8"><div class="mb-4 md:mb-0 md:mr-8 md:flex-shrink-0"><img alt="Prateek Surana" height="20" width="20" class="h-20 w-20 rounded-full border-indigo-500 border-2" src="/img/prateek-author.jpg"></div><div class="md:text-left text-center"><h4 class="text-lg font-bold mb-2 md:mb-0">About Prateek Surana</h4><p class="text-base">Prateek is a Frontend Engineer and an iOS developer, currently building <a href="https://devfolio.co" class="text-indigo-700" target="_blank" rel="noreferrer noopener">Devfolio</a>. Apart from his unconditional love for JavaScript and React, he also enjoys watching Marvel movies and playing quirky games on his phone.</p></div></div><div x-cloak x-show.transition.duration.300ms="showSubscribePopup" class="fixed border-gray-100 border-2 p-6 shadow rounded bottom-7 right-7 w-72 ml-auto xl:block hidden bg-blue-100 z-20"><img src="/img/subscribe-banner-image.png" alt="Subscribe to newsletter" style="top:-130px; right:79px;" class="absolute h-32"><div class="flex w-full justify-between mb-2"><h4 class="text-lg font-bold mb-2">Want to get better at React, JavaScript, and TypeScript?</h4><img src="/img/cross-black.svg" x-on:click="hideSubscribePopup" alt="Close the banner" class="h-5 mt-1 cursor-pointer"></div><p class="text-base">I regularly publish posts like this one, containing best practices, tips, and tutorials on React, JavaScript, and TypeScript.</p><br><p class="text-base">Subscribe to my newsletter to get them straight to your inbox. No spam ever. Unsubscribe at any time.</p><form x-on:submit="handleSubscribe" name="subscribe_popup"><input name="email" x-model="emailField" required type="email" placeholder="john@doe.com" class="input-primary mt-6"> <button x-bind:disabled="isSubscribeLoading" class="btn-primary" type="submit">Count me in</button></form></div></div><script>function newsletter(){return{showSubscribePopup:!1,isSubscribeLoading:!1,emailField:"",hideSubscribePopup(){trackEvent("closed_subscribe_popup","subscribe"),this.showSubscribePopup=!1,localStorage.setItem("has-hidden-subscription-popup",!0)},handleSubscribe(e){e.preventDefault(),trackEvent(`clicked_on_subscribe_from_${e.target.name}`,"subscribe",e.target.name),this.isSubscribeLoading=!0;fetch("http://localhost:3000/api/register",{method:"POST",body:JSON.stringify({email:this.emailField})}).then(e=>e.json()).then(e=>{this.isSubscribeLoading=!1,this.emailField="",e.success?(window.location.href="undefined/confirm",this.showSubscribePopup=!1,localStorage.setItem("has-hidden-subscription-popup",!0)):alert(e.message)}).catch(e=>{this.isSubscribeLoading=!1,alert("Something went wrong, please refresh the page and try again!")})},startTimer(){clearTimeout(window.currentTimer),localStorage.getItem("has-hidden-subscription-popup")||(window.currentTimer=setTimeout(()=>{this.showSubscribePopup=!0},15e3),window.onscroll=()=>{document.body.offsetHeight-(window.innerHeight+window.scrollY)<=550&&(this.showSubscribePopup=!1)})}}}</script><footer class="bottom-0 text-center w-full py-8 px-1 md:px-0"><small class="text-gray-500">Copyright ¬© Prateek&#39;s Blog <span id="copyright"><script>document.getElementById("copyright").appendChild(document.createTextNode((new Date).getFullYear()))</script></span>. Made with <a href="https://www.11ty.dev/" target="_blank" rel="noreferrer noopener" class="underline">Eleventy,</a> <a href="https://tailwindcss.com/" target="_blank" rel="noreferrer noopener" class="underline">Tailwind CSS</a>, and ‚ù§&nbsp; by <a href="https://prateeksurana.me/" target="_blank" rel="noreferrer noopener" class="underline">Prateek Surana</a> ‚Ä¢ <a href="https://github.com/prateek3255/blog/edit/master/./src/blog/react-component-library-with-storybook-6.md" class="underline" target="_blank" rel="noreferrer noopener">Edit this page on GitHub</a></small></footer><script>var textContent,str,wordCount,readingTimeInMinutes,readingTimeAsString,article=document.getElementsByTagName("article")[0],readTime=document.getElementsByClassName("read-time")[0];article&&readTime&&(wordCount=(str=(str=(str=(textContent=article.textContent).replace(/(^\s*)|(\s*$)/gi,"")).replace(/[ ]{2,}/gi," ")).replace(/\\n /,"\\n")).split(" ").filter(e=>"\\n"!==e).length,readingTimeInMinutes=Math.floor(wordCount/228)+1,readTime.innerText=readingTimeAsString=readingTimeInMinutes+" min read")</script></body></html>