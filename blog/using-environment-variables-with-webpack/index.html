<!doctype html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Using environment variables with Webpack</title><meta name="description" content="A guide for setting up and using environment variables with Webpack and handling different values for Production and Development environments."><link rel="canonical" href="undefined/blog/using-environment-variables-with-webpack/"><link rel="apple-touch-icon" sizes="152x152" href="undefined/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="undefined/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="undefined/favicons/favicon-16x16.png"><link rel="manifest" href="undefined/favicons/site.webmanifest"><link rel="mask-icon" href="undefined/favicons/safari-pinned-tab.svg" color="#5bbad5"><meta name="msapplication-TileColor" content="#da532c"><meta name="theme-color" content="#ffffff"><meta name="twitter:title" content="Using environment variables with Webpack"><meta property="twitter:description" content="A guide for setting up and using environment variables with Webpack and handling different values for Production and Development environments."><meta name="twitter:image" content="undefined/img/using-environment-variables-with-webpack.png"><meta name="twitter:card" content="summary_large_image"><meta property="og:title" content="Using environment variables with Webpack"><meta property="og:description" content="A guide for setting up and using environment variables with Webpack and handling different values for Production and Development environments."><meta property="og:image" content="undefined/img/using-environment-variables-with-webpack.png"><meta property="og:url" content="undefined/blog/using-environment-variables-with-webpack/"><meta property="og:type" content="article"><link rel="stylesheet" type="text/css" href="undefined/css/style.css"><link rel="stylesheet" type="text/css" href="undefined/css/prism-tomorrow.css"><script defer="defer" src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/js/brands.min.js"></script><script defer="defer" src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/js/solid.min.js"></script><script defer="defer" src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/js/fontawesome.min.js"></script><script>function trackTagClick(t){trackEvent("tag_clicked","tags",t)}function trackEvent(t,c,a){console.log("Event",{name:t,category:c,label:a})}</script><script async src="https://unpkg.com/smoothscroll-polyfill/dist/smoothscroll.min.js"></script><script async src="https://unpkg.com/smoothscroll-anchor-polyfill"></script><script src="https://cdn.jsdelivr.net/gh/alpinejs/alpine@v2.8.2/dist/alpine.min.js" defer="defer"></script></head><body><div class="w-full"><nav class="flex items-center justify-center lg:justify-between flex-wrap p-6 lg:px-0 container mx-auto" x-data="navbarData()" @keydown.escape="isOpen = false"><div class="flex items-center"><a href="/" aria-label="logo"><img src="/img/prateek-bitmoji.png" alt="Logo" height="80" width="63.2" class="h-20"></a></div><button x-on:click="handleToggle" type="button" class="ml-auto block lg:hidden px-2 text-primary-500 hover:text-primary-500 focus:outline-none focus:text-primary-500" :class="{ 'transition transform-180': isOpen }" aria-label="Menu"><svg class="h-6 w-6 fill-current" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path x-show="isOpen" fill-rule="evenodd" clip-rule="evenodd" d="M18.278 16.864a1 1 0 0 1-1.414 1.414l-4.829-4.828-4.828 4.828a1 1 0 0 1-1.414-1.414l4.828-4.829-4.828-4.828a1 1 0 0 1 1.414-1.414l4.829 4.828 4.828-4.828a1 1 0 1 1 1.414 1.414l-4.828 4.829 4.828 4.828z"/><path x-show="!isOpen" fill-rule="evenodd" d="M4 5h16a1 1 0 0 1 0 2H4a1 1 0 1 1 0-2zm0 6h16a1 1 0 0 1 0 2H4a1 1 0 0 1 0-2zm0 6h16a1 1 0 0 1 0 2H4a1 1 0 0 1 0-2z"/></svg></button><div class="w-full flex-grow lg:flex lg:items-center lg:w-auto text-center transition-all duration-700 ease-in-out opacity-0 lg:opacity-100" :class="{ 'max-h-80 opacity-100': isOpen, 'max-h-0 opacity-0': !isOpen }" x-show.transition="true"><ul class="pt-6 lg:pt-0 list-reset lg:flex justify-end flex-1 items-center"><li class="nav__item mr-1"><a @click="isOpen = false" class="text-ml inline-block text-gray-500 no-underline hover:text-indigo-500 py-2 px-4" href="/">About</a></li><li class="nav__item mr-1"><a @click="isOpen = false" class="text-ml inline-block text-gray-500 no-underline hover:text-indigo-500 py-2 px-4" href="/blog">Blog</a></li><li class="nav__item mr-1"><a @click="isOpen = false" target="_blank" rel="noreferrer noopener" class="text-ml inline-block text-gray-500 no-underline hover:text-indigo-500 py-2 px-4" href="https://twitter.com/psuranas"><i class="fab fa-twitter"></i></a></li><li class="nav__item mr-1"><a @click="isOpen = false" target="_blank" rel="noreferrer noopener" class="text-ml inline-block text-gray-500 no-underline hover:text-indigo-500 py-2 px-4" href="https://github.com/prateek3255"><i class="fab fa-github"></i></a></li><li class="nav__item mr-1"><a @click="isOpen = false" target="_blank" rel="noreferrer noopener" class="text-ml inline-block text-gray-500 no-underline hover:text-indigo-500 py-2 px-4" href="https://stackoverflow.com/users/8252081/prateek-surana"><i class="fab fa-stack-overflow"></i></a></li><li class="nav__item mr-1"><a @click="isOpen = false" target="_blank" rel="noreferrer noopener" class="text-ml inline-block text-gray-500 no-underline hover:text-indigo-500 py-2 px-4" href="/blog/feed.xml"><i class="fas fa-rss"></i></a></li></ul></div></nav></div><script>function navbarData(){return{isOpen:!1,handleToggle(){this.isOpen=!this.isOpen,void 0!==window.annotationGroup&&(window.annotationGroup.hide(),setTimeout(()=>{window.annotationGroup.show()},800))}}}</script><div x-data="newsletter()" x-init="startTimer()"><div class="container max-w-3xl mt-6 px-6"><div class="pb-5 mb-5 border-b border-gray-100"><h1 class="font-bold text-5xl">Using environment variables with Webpack</h1><p class="text-center text-base leading-6 font-medium text-gray-500">Last updated on <time>04 Jul 2021</time> by Prateek Surana &nbsp; • &nbsp;<span class="read-time"> - min read</span></p></div><article class="prose lg:prose-xl my-4 relative"><p>When building for the web, we often have to deal with some sensitive data (like API keys), which cannot be pushed to source control or some things that are supposed to be different for development and production environments (like sending error logs to sentry only in a production environment). That's where environment variables come in as they let us store this kind of data with a breeze.</p><p>Now there are two ways of using environment variables -</p><ul><li>Storing those variables in the system environment, via the <a href="https://medium.com/@youngstone89/setting-up-environment-variables-in-mac-os-28e5941c771c">Terminal in Mac/Linux</a> or using the <a href="https://docs.oracle.com/en/database/oracle/r-enterprise/1.5.1/oread/creating-and-modifying-environment-variables-on-windows.html">GUI in Windows</a>.</li><li>Storing and accessing those variables from a <code>.env</code> file in the project's root folder, which is ignored from version control.</li></ul><p>This post will cover the second method and show you how to inject environment variables from a <code>.env</code> file to your application via Webpack's <code>dotenv-webpack</code> plugin via discussing the following steps -</p><ol><li><a href="#the-env-file">The .env file</a></li><li><a href="#accessing-environment-variables-via-webpack">Accessing environment variables via Webpack</a></li><li><a href="#using-different-env-files-for-production-and-development-environments">Using different .env files for production and development environments</a></li></ol><h2 class="relative"><a id="the-env-file" href="#the-env-file" class="header-anchor"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="absolute top-2 -left-7 opacity-0 icon" height="20" width="20" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg> The .env file</a></h2><p>I prefer creating a <code>.env</code> file with all the environment variables in the project root and <a href="https://www.atlassian.com/git/tutorials/saving-changes/gitignore">adding a line that references this file to your <code>.gitignore</code></a> so that they are not pushed to source control. This way, whenever someone new is cloning your repository, they wouldn't need to add these variables to their system environment (which can be really painful in operating systems like Windows).</p><p>Since we are not adding the <code>.env</code> file to the source control, it is good practice to create a <code>.env.example</code> file, which is added to source control and contains the value of the variables for the development environment or contains comments on how to obtain them.</p><p>For instance, the <code>.env</code> file for your production environment could be like -</p><pre class="language-bash"><code class="language-bash"><span class="token assign-left variable">API_ROOT</span><span class="token operator">=</span>https://myawesomeAPIRoot.com/<br><span class="token assign-left variable">NODE_ENV</span><span class="token operator">=</span>production<br><span class="token assign-left variable">SOME_IMPORTANT_API_KEY</span><span class="token operator">=</span>th1s181mpo97@n7</code></pre><p>And the corresponding <code>.env.example</code> will be -</p><pre class="language-bash"><code class="language-bash"><span class="token comment"># The base API endpoint to which requests are made</span><br><span class="token assign-left variable">API_ROOT</span><span class="token operator">=</span>http://localhost:5000/<br><br><span class="token comment"># Whether we are using a production or development environment</span><br><span class="token assign-left variable">NODE_ENV</span><span class="token operator">=</span>development<br><br><span class="token comment"># API key fetching some important things, get the key for your </span><br><span class="token comment"># development environment at https://somerandomthings.com/important-keys </span><br><span class="token assign-left variable">SOME_IMPORTANT_API_KEY</span><span class="token operator">=</span></code></pre><p>This way, someone new cloning your repo can create <code>.env</code> and add all the required variables accordingly.</p><blockquote><p>If you, like me, don't want the mental burden of keeping the <code>.env</code> and <code>.env.example</code> files in sync you can use a tool like <a href="https://github.com/codeshifu/sync-dotenv#examples">sync-dotenv</a> which syncs the envs with a simple command, that you can run before every commit automatically using <a href="https://github.com/typicode/husky">husky</a>.</p></blockquote><h2 class="relative"><a id="accessing-environment-variables-via-webpack" href="#accessing-environment-variables-via-webpack" class="header-anchor"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="absolute top-2 -left-7 opacity-0 icon" height="20" width="20" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg> Accessing environment variables via Webpack</a></h2><p>Now let's read these variables in our code. To do that, we would be using the <a href="https://www.npmjs.com/package/dotenv-webpack"><code>dotenv-webpack</code> plugin</a>. Install this plugin as a dev dependency -</p><pre class="language-bash"><code class="language-bash"><span class="token function">yarn</span> <span class="token function">install</span> dotenv-webpack --dev<br><br>OR<br><br><span class="token function">npm</span> <span class="token function">install</span> dotenv-webpack --save-dev</code></pre><p>This plugin is to read the environment variables from the <code>.env</code> file <strong>securely by only exposing the variables used in the code.</strong></p><p>Add it to the plugins in your webpack config file -</p><pre class="language-jsx"><code class="language-jsx"><span class="token comment">// webpack.config.js</span><br><span class="token keyword">const</span> Dotenv <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'dotenv-webpack'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br> <br>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span><br>  <span class="token operator">...</span><br>  plugins<span class="token operator">:</span> <span class="token punctuation">[</span><br>    <span class="token keyword">new</span> <span class="token class-name">Dotenv</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token operator">...</span><br>  <span class="token punctuation">]</span><br>  <span class="token operator">...</span><br><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>Now you can use the variables in your code using the <code>process.env</code> syntax anywhere in your code and then webpack will replace them with the corresponding values in the <code>.env</code> file.</p><blockquote><p>Use <a href="https://www.npmjs.com/package/dotenv-webpack#properties"><code>systemVars: true</code> flag</a> in the Dotenv plugin to load the system variables as well, which comes in handy when deploying to Netlify or any other CI where you can't add the <code>.env</code> file due to source control restrictions.</p></blockquote><p>For example -</p><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">const</span> <span class="token function-variable function">requestMyAwesomeService</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>	<span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">API_ROOT</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">awesome</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><br>	<span class="token operator">...</span><br><span class="token punctuation">}</span></code></pre><p>On a sidenote a slightly cleaner approach would be store these variables in a separate file and export them from that file.</p><pre class="language-jsx"><code class="language-jsx"><span class="token comment">// constants/envrionment.js</span><br><br><span class="token keyword">const</span> <span class="token constant">API_ROOT</span> <span class="token operator">=</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">API_ROOT</span><span class="token punctuation">;</span><br><span class="token keyword">const</span> <span class="token constant">NODE_ENV</span> <span class="token operator">=</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span><span class="token punctuation">;</span><br><span class="token keyword">const</span> <span class="token constant">SOME_IMPORTANT_API_KEY</span> <span class="token operator">=</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">SOME_IMPORTANT_API_KEY</span><br><br><span class="token keyword">export</span> <span class="token punctuation">{</span><br>	<span class="token constant">API_ROOT</span><span class="token punctuation">,</span><br>	<span class="token constant">NODE_ENV</span><span class="token punctuation">,</span><br>	<span class="token constant">SOME_IMPORTANT_API_KEY</span><br><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>And if you are using <a href="https://webpack.js.org/configuration/resolve/">webpack aliases</a> for your folders, you could consume these constants in any file like this -</p><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">import</span> <span class="token punctuation">{</span> <span class="token constant">API_ROOT</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'constants/environment'</span><span class="token punctuation">;</span><br><br><span class="token keyword">const</span> <span class="token function-variable function">requestMyAwesomeService</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>	<span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token constant">API_ROOT</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">awesome_route</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><br>	<span class="token operator">...</span><br><span class="token punctuation">}</span></code></pre><p>This way, linters like <a href="https://eslint.org/">ESLint</a> or compilers like <a href="https://www.typescriptlang.org/">TypeScript</a> would prevent you from spelling mistakes, and you would get <a href="https://code.visualstudio.com/docs/editor/intellisense">nifty auto-complete while importing these variables with editors like VSCode</a>.</p><h2 class="relative"><a id="using-different-env-files-for-production-and-development-environments" href="#using-different-env-files-for-production-and-development-environments" class="header-anchor"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="absolute top-2 -left-7 opacity-0 icon" height="20" width="20" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg> Using different .env files for production and development environments</a></h2><p>When using environment variables, you might need to use different values for some keys depending on whether you are in a development or production environment.</p><p>For example, <code>SOME_IMPORTANT_API_KEY</code> could have some domain restrictions for the production environment, which would not work on the development <code>localhost</code> domains, so we need a way to have separate values for our environment variables in development and production environments.</p><p>So we would need to create two files here, namely <code>.env.production</code> and <code>.env.development</code>, which would contain the variables for the production and development environments, respectively.</p><p>To read these <code>.env</code> files, we would need to pass <a href="https://webpack.js.org/guides/environment-variables/">environment variables via the CLI</a> to our scripts in the <code>package.json</code> to read them in our <code>webpack.config.js</code> file. Assuming you are using <a href="https://webpack.js.org/configuration/dev-server/"><code>webpack-dev-server</code></a> for your development environment, your scripts would look something like this -</p><pre class="language-json"><code class="language-json"><span class="token comment">// package.json</span><br><br><span class="token punctuation">{</span><br>	...<br>	scripts<span class="token operator">:</span> <span class="token punctuation">{</span><br>	  <span class="token property">"build"</span><span class="token operator">:</span> <span class="token string">"webpack --env production --mode production"</span><span class="token punctuation">,</span><br>	  <span class="token property">"dev"</span><span class="token operator">:</span> <span class="token string">"webpack-dev-server --env development --mode development"</span><span class="token punctuation">,</span><br>	   ...<br>  	<span class="token punctuation">}</span><br>	...<br><span class="token punctuation">}</span></code></pre><p>Now you can read the value of environment variables you just passed in through your CLI in your webpack config, and load the appropriate <code>.env</code> file using the <a href="https://github.com/mrsteele/dotenv-webpack#properties"><code>dotenv-webpack</code> 's path</a> property.</p><pre class="language-jsx"><code class="language-jsx"><span class="token comment">// webpack.config.js</span><br><span class="token operator">...</span><br><br>module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token parameter">env</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token punctuation">{</span><br>  <span class="token operator">...</span><br>  plugins<span class="token operator">:</span> <span class="token punctuation">[</span><br>    <span class="token keyword">new</span> <span class="token class-name">Dotenv</span><span class="token punctuation">(</span><span class="token punctuation">{</span><br>			path<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">./.env.</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>env<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><br>		<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token operator">...</span><br>  <span class="token punctuation">]</span><br>  <span class="token operator">...</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>And that's it. With this setup you can securely access multiple environment values for separate values for production and development environments.</p><a class="fixed bottom-12 bg-white text-accent-blue flex items-center justify-center rounded cursor-pointer z-10 invisible lg:visible top-indicator-container" aria-label="Scroll to top" href="#"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" class="top-indicator" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M256 217.9L383 345c9.4 9.4 24.6 9.4 33.9 0 9.4-9.4 9.3-24.6 0-34L273 167c-9.1-9.1-23.7-9.3-33.1-.7L95 310.9c-4.7 4.7-7 10.9-7 17s2.3 12.3 7 17c9.4 9.4 24.6 9.4 33.9 0l127.1-127z"></path></svg></a></article><hr class="my-4"><div class="text-md mb-3 flex justify-between flex-col md:flex-row"><div><a href="/blog/tags/webpack" onclick='trackTagClick("webpack")' class="text-indigo-700 mr-1">#Webpack </a><a href="/blog/tags/tutorial" onclick='trackTagClick("tutorial")' class="text-indigo-700 mr-1">#Tutorial</a></div><div class="mt-2 md:mt-0"><span class="font-bold mr-2">Enjoyed this blog, share it on: </span><a href="https://twitter.com/intent/tweet?url=undefined/blog/using-environment-variables-with-webpack/&via=psuranas&text=Using environment variables with Webpack" target="_blank" rel="noreferrer noopener" class="text-indigo-700 mr-1">Twitter </a><a href="https://www.linkedin.com/sharing/share-offsite/?url=undefined/blog/using-environment-variables-with-webpack/" target="_blank" rel="noreferrer noopener" class="text-indigo-700">LinkedIn</a></div></div></div><div class="container max-w-3xl border-gray-100 border-2 p-8 shadow rounded flex flex-col items-center md:flex-row mb-6 mt-8 bg-blue-100"><div class="text-center"><h4 class="text-lg font-bold mb-2">Want to get better at React, JavaScript, and TypeScript?</h4><p class="text-base">I regularly publish posts like this one, containing best practices, tips, and tutorials on React, JavaScript, and TypeScript. Subscribe to my newsletter to get them straight to your inbox. No spam ever. Unsubscribe at any time. You can also <a target="_blank" rel="noreferrer noopener" class="underline" href="/blog/feed.xml">subscribe via RSS</a>.</p><form x-on:submit="handleSubscribe" name="subscribe_card"><input name="email" x-model="emailField" required type="email" placeholder="john@doe.com" class="input-primary mt-6"> <button x-bind:disabled="isSubscribeLoading" class="btn-primary" type="submit">Count me in</button></form></div></div><div class="container max-w-3xl border-gray-100 border-2 p-8 shadow rounded flex flex-col items-center md:flex-row mb-6 mt-8"><div class="mb-4 md:mb-0 md:mr-8 md:flex-shrink-0"><img alt="Prateek Surana" height="20" width="20" class="h-20 w-20 rounded-full border-indigo-500 border-2" src="/img/prateek-author.jpg"></div><div class="md:text-left text-center"><h4 class="text-lg font-bold mb-2 md:mb-0">About Prateek Surana</h4><p class="text-base">Prateek is a Frontend Engineer and an iOS developer, currently building <a href="https://devfolio.co" class="text-indigo-700" target="_blank" rel="noreferrer noopener">Devfolio</a>. Apart from his unconditional love for JavaScript and React, he also enjoys watching Marvel movies and playing quirky games on his phone.</p></div></div><div x-cloak x-show.transition.duration.300ms="showSubscribePopup" class="fixed border-gray-100 border-2 p-6 shadow rounded bottom-7 right-7 w-72 ml-auto xl:block hidden bg-blue-100 z-20"><img src="/img/subscribe-banner-image.png" alt="Subscribe to newsletter" style="top:-130px; right:79px;" class="absolute h-32"><div class="flex w-full justify-between mb-2"><h4 class="text-lg font-bold mb-2">Want to get better at React, JavaScript, and TypeScript?</h4><img src="/img/cross-black.svg" x-on:click="hideSubscribePopup" alt="Close the banner" class="h-5 mt-1 cursor-pointer"></div><p class="text-base">I regularly publish posts like this one, containing best practices, tips, and tutorials on React, JavaScript, and TypeScript.</p><br><p class="text-base">Subscribe to my newsletter to get them straight to your inbox. No spam ever. Unsubscribe at any time.</p><form x-on:submit="handleSubscribe" name="subscribe_popup"><input name="email" x-model="emailField" required type="email" placeholder="john@doe.com" class="input-primary mt-6"> <button x-bind:disabled="isSubscribeLoading" class="btn-primary" type="submit">Count me in</button></form></div></div><script>function newsletter(){return{showSubscribePopup:!1,isSubscribeLoading:!1,emailField:"",hideSubscribePopup(){trackEvent("closed_subscribe_popup","subscribe"),this.showSubscribePopup=!1,localStorage.setItem("has-hidden-subscription-popup",!0)},handleSubscribe(e){e.preventDefault(),trackEvent(`clicked_on_subscribe_from_${e.target.name}`,"subscribe",e.target.name),this.isSubscribeLoading=!0;fetch("http://localhost:3000/api/register",{method:"POST",body:JSON.stringify({email:this.emailField})}).then(e=>e.json()).then(e=>{this.isSubscribeLoading=!1,this.emailField="",e.success?(window.location.href="undefined/confirm",this.showSubscribePopup=!1,localStorage.setItem("has-hidden-subscription-popup",!0)):alert(e.message)}).catch(e=>{this.isSubscribeLoading=!1,alert("Something went wrong, please refresh the page and try again!")})},startTimer(){clearTimeout(window.currentTimer),localStorage.getItem("has-hidden-subscription-popup")||(window.currentTimer=setTimeout(()=>{this.showSubscribePopup=!0},15e3),window.onscroll=()=>{document.body.offsetHeight-(window.innerHeight+window.scrollY)<=550&&(this.showSubscribePopup=!1)})}}}</script><footer class="bottom-0 text-center w-full py-8 px-1 md:px-0"><small class="text-gray-500">Copyright © Prateek&#39;s Blog <span id="copyright"><script>document.getElementById("copyright").appendChild(document.createTextNode((new Date).getFullYear()))</script></span>. Made with <a href="https://www.11ty.dev/" target="_blank" rel="noreferrer noopener" class="underline">Eleventy,</a> <a href="https://tailwindcss.com/" target="_blank" rel="noreferrer noopener" class="underline">Tailwind CSS</a>, and ❤&nbsp; by <a href="https://prateeksurana.me/" target="_blank" rel="noreferrer noopener" class="underline">Prateek Surana</a> • <a href="https://github.com/prateek3255/blog/edit/master/./src/blog/using-environment-variables-with-webpack.md" class="underline" target="_blank" rel="noreferrer noopener">Edit this page on GitHub</a></small></footer><script>var textContent,str,wordCount,readingTimeInMinutes,readingTimeAsString,article=document.getElementsByTagName("article")[0],readTime=document.getElementsByClassName("read-time")[0];article&&readTime&&(wordCount=(str=(str=(str=(textContent=article.textContent).replace(/(^\s*)|(\s*$)/gi,"")).replace(/[ ]{2,}/gi," ")).replace(/\\n /,"\\n")).split(" ").filter(e=>"\\n"!==e).length,readingTimeInMinutes=Math.floor(wordCount/228)+1,readTime.innerText=readingTimeAsString=readingTimeInMinutes+" min read")</script></body></html>